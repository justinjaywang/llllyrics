<ng-include src="'views/partial--header.html'"></ng-include>

<main class="page-main container">

  <h1 class="searchField u-fillWidth">
    <input class="input input--search u-fillWidth" type="text" ng-model="searchInput" ng-model-options="{debounce: {'default': 0}}" ng-change="updateResults()" placeholder="search lyrics" autofocus="autofocus">
  </h1>

  <div class="searchResults" ng-show="(searchInput.length > 0)">

    <section class="cards">
      <ul class="searchResults-list" ng-show="(searchType === searchTypes.all)">
        <li class="card" ng-include="'views/partial--card.html'" ng-repeat="song in songs | filter:filterSearch(searchInput, searchTypes.all) | limitTo:resultLimit as filteredSongs track by song._id.$oid"></li>
      </ul>

      <ul class="searchResults-list searchResults-list--artist" ng-show="(searchType === searchTypes.artist)">
        <li class="card" ng-include="'views/partial--card.html'" ng-repeat="song in songs | filter:filterSearch(searchInput, searchTypes.artist) | limitTo:resultLimit as filteredSongs track by song._id.$oid"></li>
      </ul>

      <ul class="searchResults-list searchResults-list--album" ng-show="(searchType === searchTypes.album)">
        <li class="card" ng-include="'views/partial--card.html'" ng-repeat="song in songs | filter:filterSearch(searchInput, searchTypes.album) | limitTo:resultLimit as filteredSongs track by song._id.$oid"></li>
      </ul>

      <ul class="searchResults-list searchResults-list--song" ng-show="(searchType === searchTypes.song)">
        <li class="card" ng-include="'views/partial--card.html'" ng-repeat="song in songs | filter:filterSearch(searchInput, searchTypes.song) | limitTo:resultLimit as filteredSongs track by song._id.$oid"></li>
      </ul>

      <ul class="searchResults-list searchResults-list--lyrics" ng-show="(searchType === searchTypes.lyrics)">
        <li class="card" ng-include="'views/partial--card.html'" ng-repeat="song in songs | filter:filterSearch(searchInput, searchTypes.lyrics) | limitTo:resultLimit as filteredSongs track by song._id.$oid"></li>
      </ul>
    </section>

    <section class="noResults" ng-show="(!filteredSongs || (filteredSongs.length == 0))">
      <p class="noResults-text">No lyrics found. You can <a class="noResults-link" href="/add">add them</a>.</p>
    </section>

  </div>

  <!-- <ng-include src="'views/partial--footer.html'"></ng-include> -->

</main>
